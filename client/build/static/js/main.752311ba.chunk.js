(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{125:function(e,t){var n=null,c=null,a=function(e){if("http://localhost:3000"===e.origin&&"SignIn"===e.source.name){var t="JWT "+e.data.slice(7);localStorage.setItem("token",t),window.location.pathname="/feature"}};e.exports={openSignInWindow:function(e,t){window.removeEventListener("message",a);var r="toolbar=no, menubar=no, width=600, height=700, top=100, left=100";null===n||n.closed?n=window.open(e,t,r):c!==e?(n=window.open(e,t,r)).focus():n.focus(),window.addEventListener("message",(function(e){return a(e)}),!1),c=e},receiveMessage:a,windowObjectReference:n,previousUrl:c}},356:function(e,t,n){},357:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(57),r=n.n(a),o=n(27),i=n(4),s=n(41),l=n(21),u=n.n(l),d=Object(s.b)({name:"coinList",initialState:{coins:[],reqInProgress:!1,deletingCoinId:"",error:""},reducers:{getCoins:function(e,t){e.coins=t.payload},addCoin:function(e,t){var n=t.payload;e.coins.push(n),e.reqInProgress=!1,e.error=""},deleteCoin:function(e,t){var n=t.payload,c=e.coins;e.coins=c.filter((function(e){return e.Symbol!==n})),e.error=""},setReqInProgress:function(e,t){e.reqInProgress=t.payload},setDeletingCoinId:function(e,t){e.deletingCoinId=t.payload},coinErr:function(e,t){e.error=t.payload,e.reqInProgress=!1}}}),b=d.actions,j=b.getCoins,m=b.addCoin,h=b.deleteCoin,f=b.setReqInProgress,p=b.setDeletingCoinId,g=b.coinErr,O=function(e){return e.coinList},x=d.reducer,v=Object(s.b)({name:"histData",initialState:{activeCoin:{},activeTimeframe:"1day",fetchHistInProgress:!1,fetchCoinInProgress:!1,error:""},reducers:{setHistData:function(e,t){e.histData=t.payload,e.fetchHistInProgress=!1},setCoinData:function(e,t){e.coinData=t.payload,e.fetchCoinInProgress=!1},setTimeFrame:function(e,t){e.activeTimeframe=t.payload},setActiveCoin:function(e,t){e.activeCoin=t.payload},setFetchHistInProgress:function(e,t){e.fetchHistInProgress=t.payload},setFetchCoinInProgress:function(e,t){e.fetchCoinInProgress=t.payload},histDataErr:function(e,t){e.error=t.payload}}}),y=v.actions,w=y.setHistData,N=y.setCoinData,C=y.setTimeFrame,k=y.setActiveCoin,I=y.setFetchHistInProgress,S=y.setFetchCoinInProgress,D=y.histDataErr,P=function(e,t){return function(n){var c;switch(n(I(!0)),t){case"1hour":c={timeUnit:"histominute",limit:60};break;case"12hours":c={timeUnit:"histominute",limit:144};break;case"1day":c={timeUnit:"histominute",limit:288};break;case"1week":c={timeUnit:"histohour",limit:168};break;case"1month":c={timeUnit:"histoday",limit:31};break;case"3months":c={timeUnit:"histoday",limit:92};break;case"1year":c={timeUnit:"histoday",limit:365};break;default:console.log("error in getHistData function in actions/histData timeframe cases")}u.a.get("https://min-api.cryptocompare.com/data/".concat(c.timeUnit,"?fsym=").concat(e.Name,"&tsym=USD&limit=").concat(c.limit)).then((function(e){for(var t=[],c=0;c<e.data.Data.length;c++){var a={time:e.data.Data[c].time,price:e.data.Data[c].close};t.push(a)}n(w(t))})).catch((function(e){console.log("error in getHistData method api call to cryptocompare.com: \n"+e),n(D("error fetching data from cryptocompare.com")),n(I(!1))}))}},L=function(e){return function(t){t(S(!0)),u.a.get("https://min-api.cryptocompare.com/data/generateAvg?fsym=".concat(e.Name,"&tsym=USD&e=CCCAGG")).then((function(e){var n={currentPrice:e.data.DISPLAY.PRICE,pctChange:e.data.DISPLAY.CHANGEPCT24HOUR,open:e.data.DISPLAY.OPEN24HOUR,high:e.data.DISPLAY.HIGH24HOUR,low:e.data.DISPLAY.LOW24HOUR,usdChange:e.data.DISPLAY.CHANGE24HOUR};t(N(n))})).catch((function(e){console.log("error in getCoinData function api request: \n"+e),t(D("error fetching data from cryptocompare.com")),t(S(!1))}))}},E=function(e){return e.histData},T=v.reducer,A=n(29),W=n(31),H=n(1);var U=function(e){var t=Object(i.b)(),n=Object(i.c)(E).activeTimeframe,c=Object(i.c)(O).deletingCoinId,a=Object(i.c)(E).activeCoin,r=e.coin,o=Object(H.jsx)(A.a,{icon:W.b});function s(){var e,n;t((e=r,n=r.Id,function(t){t(p(n));var c=e.Symbol;console.log("Deleting coin: "+c),u.a.delete("/coins_unauth/coinList/"+c).then((function(e){e.data.success?(t(h(c)),t(p(""))):(t(g("Something went wrong while deleting coin")),t(p("")))})).catch((function(e){console.log(e),t(g("There was an error deleting from coins_unauth in deleteCoin action")),t(p(""))}))}))}return Object(H.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(H.jsxs)("div",{className:r==a?"coin-li-active":"coin-li",tabIndex:"0",children:[Object(H.jsxs)("div",{onClick:function(){return t(k(r)),t(L(r)),void t(P(r,n))},children:[Object(H.jsx)("h5",{children:r.Name}),Object(H.jsxs)("p",{children:[r.CoinName," price history, day's change"]})]}),r.Id===c?Object(H.jsx)(A.a,{icon:W.a,className:"remove-icon fa-spin"}):Object(H.jsx)("span",{className:"remove-icon",onClick:function(){return s()},children:o})]})})},F=n(23),q=n.n(F),R=n(42),M=n(13),Y=function(){var e=Object(i.b)(),t=Object(c.useState)(""),n=Object(M.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)([]),s=Object(M.a)(o,2),l=s[0],d=s[1],b=Object(c.useState)([]),j=Object(M.a)(b,2),h=j[0],p=j[1],x=Object(i.c)(O).coins,v=Object(i.c)(O).error,y=Object(i.c)(O).reqInProgress;Object(c.useEffect)((function(){var e=function(){var e=Object(R.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://min-api.cryptocompare.com/data/all/coinlist?summary=true");case 2:t=e.sent,d(Object.values(t.data.Data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);function w(t){if(t.preventDefault(),""!==a){if(/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/.test(a))e(g("No special characters allowed"));else{var n,c=a.toUpperCase();if(x.some((function(e){return e.Symbol===c})))e(g(c+" is already in the list of coins"));else e((n=c,function(e){e(f(!0));var t=n.toUpperCase();u.a.get("https://min-api.cryptocompare.com/data/all/coinlist").then((function(n){if(n.data.Data[t]){var c={Id:n.data.Data[t].Id,Name:n.data.Data[t].Name,Symbol:n.data.Data[t].Symbol,CoinName:n.data.Data[t].CoinName};u.a.post("/coins_unauth/coinList",c).then((function(n){console.log("Adding coin: "+t),n.data.success?e(m(c)):e(g(n.data.error))})).catch((function(t){throw e(g("There was an error fetching new coin data")),console.log("error in posting to coins_unauth in addcoin action: "),t}))}else e(g("A coin with that symbol does not exist"))})).catch((function(t){console.log("error in addCoin method api call to cryptocompare.com "),e(g("err"))}))})),r(""),p([])}}else e(g("Input required"))}return Object(H.jsxs)("div",{className:"col-md-4 col-sm-6 col-12 p-2",children:[Object(H.jsx)("label",{children:"Add new coin:"}),Object(H.jsxs)("form",{children:[Object(H.jsxs)("div",{className:"form-floating d-flex",children:[Object(H.jsx)("input",{name:"symbol",id:"addNewCoinInput",type:"string",className:"form-control form-control-sm",placeholder:"Altcoin Symbol, i.e. BTC, LTC...",value:a,onChange:function(e){return function(e){r(e);var t=[];e.length>0&&(t=l.filter((function(t){var n=new RegExp("".concat(e),"gi");return t.Symbol.match(n)}))),p(t)}(e.target.value)},autoComplete:"off",onBlur:function(){setTimeout((function(){p([])}),100)}}),Object(H.jsx)("label",{style:{opacity:"0.5"},htmlFor:"addNewCoinInput",children:"Altcoin Symbol, i.e. BTC, LTC..."}),y?Object(H.jsx)("button",{className:"btn btn-success add-button-loading",onClick:function(e){return w(e)},disabled:!0,children:Object(H.jsx)(A.a,{icon:W.a,className:"fa-spin",style:{width:"37px"}})}):Object(H.jsx)("button",{className:"btn btn-success add-button",onClick:function(e){return w(e)},children:"Add"})]}),function(){if(h.length>0){var e=h.sort((function(e,t){return e.Id-t.Id}));return Object(H.jsx)("div",{className:"suggestions",children:e.slice(0,10).map((function(e){return Object(H.jsx)("div",{className:"suggestion",onClick:function(){return t=e.Symbol,r(t),void p([]);var t},children:e.FullName},e.Id)}))})}}()]}),function(){if(v)return Object(H.jsx)("div",{className:"alert alert-danger",children:v})}()]})},B=function(){var e=Object(i.b)(),t=Object(i.c)(O).coins;return Object(c.useEffect)((function(){e((function(e){u.a.get("/coins_unauth/coinList").then((function(t){t.data.success?e(j(t.data.data)):e(g("Something went wrong while getting coin list"))})).catch((function(t){console.log(t),e(g("Something went wrong while getting coin list"))}))}))}),[e]),Object(H.jsxs)("div",{className:"d-flex flex-wrap ",children:[t.map((function(e){return Object(H.jsx)(U,{coin:e},e.Id)})),Object(H.jsx)(Y,{})]})},_=n(360),z=n(361),G=n(365),$=n(186),J=n(38),K=n(187),X=n(85),Q=n(189),V=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),Z=function(){var e=Object(i.c)(E).histData,t=Object(i.c)(E).activeCoin,n=Object(i.c)(E).activeTimeframe;return e&&t&&t.Name?Object(H.jsx)("div",{className:"",children:Object(H.jsx)(_.a,{width:"100%",height:500,children:Object(H.jsxs)(z.a,{data:e,margin:{top:30,right:30,left:30,bottom:30},children:[Object(H.jsx)(G.a,{}),Object(H.jsx)($.a,{type:"number",scale:"time",dataKey:"time",domain:["dataMin","dataMax"],tickFormatter:function(e){var t=new Date(1e3*e),c=0;switch(n){case"1hour":case"12hours":case"1day":c=t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});break;case"1week":c=t.toLocaleDateString([],{weekday:"short",month:"2-digit",day:"2-digit"});break;case"1month":case"3months":c=t.toLocaleDateString([],{month:"short",day:"numeric"});break;case"1year":c=t.toLocaleDateString([],{month:"short",year:"numeric"});break;default:console.log("error in formatXAxis timeframe cases")}return c},angle:35,dy:20,tick:{fontSize:14},children:Object(H.jsx)(J.a,{value:"Time",position:"bottom",style:{textAnchor:"middle"}})}),Object(H.jsx)(K.a,{domain:["dataMin","dataMax"],tickFormatter:function(e){return V.format(e)},style:{fontSize:".75rem"},children:Object(H.jsx)(J.a,{value:"Price ($)",position:"left",angle:-90,style:{textAnchor:"middle"}})}),Object(H.jsx)(X.a,{formatter:function(e){return V.format(e)},labelFormatter:function(e){return new Date(1e3*e).toLocaleString()}}),Object(H.jsx)(Q.a,{dataKey:"price",name:"Price",dot:!1})]})})}):Object(H.jsx)("p",{children:"Please select a coin from the list below"})},ee={border:"1px solid gold",borderRadius:"0px",background:"#fafafa",margin:".5rem 0",padding:"10px 10px",position:"relative"},te=function(){var e=Object(i.c)(E).activeCoin,t=Object(i.c)(E).coinData,n=Object(i.c)(E).fetchHistInProgress,c=Object(i.c)(E).fetchCoinInProgress;if(!e||!t||!e.Name)return Object(H.jsxs)("div",{className:"alert alert-warning",children:[a(),"Select a coin from the list below to see its data"]});function a(){if(n||c)return Object(H.jsx)("div",{className:"coin-info-loading",children:Object(H.jsx)(A.a,{icon:W.a,className:"fa-spin fa-3x"})})}return Object(H.jsxs)("div",{className:"d-flex flex-column flex-md-row justify-content-evenly align-items-start align-items-md-center flex-wrap",style:ee,children:[a(),Object(H.jsxs)("div",{className:"p-2 flex-fill",children:[Object(H.jsxs)("p",{children:[e.CoinName,"'s current Price:"]}),Object(H.jsx)("h1",{children:t.currentPrice}),Object(H.jsxs)("p",{children:[t.pctChange,"% change today"]})]}),Object(H.jsxs)("div",{className:"p-2 flex-fill",children:[Object(H.jsxs)("p",{children:["Today's Open: ",t.open]}),Object(H.jsxs)("p",{children:["Change: ",t.usdChange]})]}),Object(H.jsxs)("div",{className:"p-2 flex-fill",children:[Object(H.jsxs)("p",{children:["Today's High: ",t.high]}),Object(H.jsxs)("p",{children:["Today's Low: ",t.low]})]})]})},ne={margin:"1px",borderColor:"#ccc"},ce=function(){var e=Object(i.b)(),t=Object(i.c)(E).activeCoin,n=Object(i.c)(E).activeTimeframe,c=function(n,c){n.preventDefault(),e(C(c)),t&&e(P(t,c))},a=[Object(H.jsx)("button",{className:"btn btn-outline-dark btn-sm",style:ne,onClick:function(e){return c(e,"1hour")},children:"1Hr"},0),Object(H.jsx)("button",{className:"btn btn-outline-dark btn-sm ",style:ne,onClick:function(e){return c(e,"12hours")},children:"12Hrs"},1),Object(H.jsx)("button",{className:"btn btn-outline-dark btn-sm",style:ne,onClick:function(e){return c(e,"1day")},children:"Day"},2),Object(H.jsx)("button",{className:"btn btn-outline-dark btn-sm",style:ne,onClick:function(e){return c(e,"1week")},children:"Week"},3),Object(H.jsx)("button",{className:"btn btn-outline-dark btn-sm",style:ne,onClick:function(e){return c(e,"1month")},children:"Month"},4),Object(H.jsx)("button",{className:"btn btn-outline-dark btn-sm",style:ne,onClick:function(e){return c(e,"3months")},children:"3months"},5),Object(H.jsx)("button",{className:"btn btn-outline-dark btn-sm",style:ne,onClick:function(e){return c(e,"1year")},children:"Year"},6)];switch(n){case"1hour":a[0]=Object(H.jsx)("button",{className:"btn btn-success btn-sm",style:ne,onClick:function(e){return c(e,"1hour")},children:"1Hr"},0);break;case"12hours":a[1]=Object(H.jsx)("button",{className:"btn btn-success btn-sm",style:ne,onClick:function(e){return c(e,"12hours")},children:"12Hrs"},1);break;case"1day":a[2]=Object(H.jsx)("button",{className:"btn btn-success btn-sm",style:ne,onClick:function(e){return c(e,"1day")},children:"Day"},2);break;case"1week":a[3]=Object(H.jsx)("button",{className:"btn btn-success btn-sm",style:ne,onClick:function(e){return c(e,"1week")},children:"Week"},3);break;case"1month":a[4]=Object(H.jsx)("button",{className:"btn btn-success btn-sm",style:ne,onClick:function(e){return c(e,"1month")},children:"Month"},4);break;case"3months":a[5]=Object(H.jsx)("button",{className:"btn btn-success btn-sm",style:ne,onClick:function(e){return c(e,"3months")},children:"3months"},5);break;case"1year":a[6]=Object(H.jsx)("button",{className:"btn btn-success btn-sm",style:ne,onClick:function(e){return c(e,"1year")},children:"Year"},6);break;default:a=Object(H.jsx)("p",{children:"Error in timeFrameList component switch case"})}return Object(H.jsx)("div",{className:"flex-wrap",role:"group","aria-label":"Timeframes button group",children:a.map((function(e){return e}))})},ae=function(){var e=Object(i.c)(E).activeCoin,t=Object(i.c)(E).activeTimeframe;return e&&e.Name?Object(H.jsxs)("h1",{children:[e.CoinName," - ",e.Symbol," - ",t]}):Object(H.jsx)("h1",{children:"Chart"})};function re(){var e=Object(i.b)();return Object(c.useEffect)((function(){console.log("using effect"),e(k({})),e(C("1day"))})),Object(H.jsxs)("div",{children:[Object(H.jsx)(ae,{}),Object(H.jsx)(ce,{}),Object(H.jsx)(Z,{}),Object(H.jsx)(te,{}),Object(H.jsx)(B,{})]})}var oe=n(125),ie=Object(s.b)({name:"auth",initialState:{error:""},reducers:{authenticate:function(e){e.error="",e.authenticated=!0},unauthenticate:function(e){e.authenticated=!1},authError:function(e,t){e.authenticated=!1,e.error=t.payload},fetchMessage:function(e,t){e.message=t.payload}}}),se=ie.actions,le=se.authenticate,ue=se.unauthenticate,de=se.authError,be=se.fetchMessage,je=function(e,t){var n=t.email,c=t.password;return function(t){u.a.post("/users/authenticate",{email:n,password:c}).then((function(n){n.data.success?(t(le()),localStorage.setItem("token",n.data.token),e.push("/feature")):t(de(n.data.message))})).catch((function(e){t(de("Bad Login Info"))}))}},me=function(){return function(){Object(oe.openSignInWindow)("https://altcoin-charter.herokuapp.com/users/google","SignIn")}},he=function(){return function(){Object(oe.openSignInWindow)("http://localhost:5000/users/facebook","SignIn")}},fe=function(e,t){var n=t.email,c=t.password;return function(t){u.a.post("/users/register",{email:n,password:c}).then((function(n){n.data.success?(t(le()),localStorage.setItem("token",n.data.token),e.push("/feature")):(console.log(n.data.message),t(de(n.data.message)))})).catch((function(e){console.log(e),t(de("Error with signing up"))}))}},pe=function(e){return e.auth},ge=ie.reducer;var Oe=function(){var e=Object(i.c)(pe).authenticated;return Object(H.jsx)("nav",{className:"navbar navbar-expand-md navbar-dark bg-success mb-2",children:Object(H.jsxs)("div",{className:"container d-flex justify-content-between",children:[Object(H.jsxs)(o.b,{to:"/",className:"navbar-brand",children:[" ","Altcoin Charter"," "]}),Object(H.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarToggler","aria-controls":"navbarToggler","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(H.jsx)("span",{className:"navbar-toggler-icon"})}),Object(H.jsx)("div",{className:"collapse navbar-collapse",id:"navbarToggler",children:Object(H.jsx)("ul",{className:"navbar-nav",children:e?[Object(H.jsxs)("li",{className:"nav-item",children:[" ",Object(H.jsxs)(o.b,{className:"nav-link",to:"/signout",children:["Sign Out"," "]})]},"0"),Object(H.jsxs)("li",{className:"nav-item",children:[" ",Object(H.jsxs)(o.b,{className:"nav-link",to:"/feature",children:["Personal Watchlist"," "]})]},"1")]:[Object(H.jsx)("li",{className:"nav-item",children:Object(H.jsxs)(o.b,{className:"nav-link",to:"/signin",children:[" ","Sign in"," "]})},"0"),Object(H.jsx)("li",{className:"nav-item",children:Object(H.jsxs)(o.b,{className:"nav-link",to:"/signup",children:[" ","Sign up"]})},"1"),Object(H.jsxs)("li",{className:"nav-item",children:[" ",Object(H.jsxs)(o.b,{className:"nav-link",to:"/feature",children:["Personal Watchlist"," "]})]},"2")]})})]})})},xe=function(){return Object(H.jsx)("footer",{className:"container-fluid mt-5 text-center bg-light",children:Object(H.jsxs)("div",{className:"container",children:[Object(H.jsx)("p",{children:Object(H.jsx)("a",{href:"https://github.com/LoTerence",children:"@loterence"})}),Object(H.jsxs)("p",{children:["Project link:"," ",Object(H.jsx)("a",{href:"https://github.com/LoTerence/altcoin-charter",children:"@loterence/altcoin-charter"})]}),Object(H.jsxs)("p",{children:["Credit for cryptocoin data goes to:"," ",Object(H.jsx)("a",{href:"https://www.cryptocompare.com/api/",children:"cryptocompare.com/api"})]})]})})},ve=n(20),ye=n(99),we=n(128);var Ne=Object(ve.h)((function(){var e=Object(i.b)(),t=Object(ve.g)(),n=Object(i.c)(pe),a=Object(c.useState)(""),r=Object(M.a)(a,2),s=r[0],l=r[1],u=Object(c.useState)(""),d=Object(M.a)(u,2),b=d[0],j=d[1],m=Object(c.useState)(!1),h=Object(M.a)(m,2),f=h[0],p=h[1],g=Object(c.useState)(""),O=Object(M.a)(g,2),x=O[0],v=O[1];if(n.authenticated)return Object(H.jsx)(ve.a,{to:"/feature"});function y(){return(y=Object(R.a)(q.a.mark((function n(c){return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.preventDefault(),""!==s){n.next=5;break}return v("Email field should not be empty"),p(!0),n.abrupt("return");case 5:if(ye.validate(s)){n.next=9;break}return v("Invalid email"),p(!0),n.abrupt("return");case 9:if(""!==b){n.next=13;break}return v("Password field should not be empty"),p(!0),n.abrupt("return");case 13:try{e(je(t,{email:s,password:b}))}catch(a){console.log(a),p(!0)}case 14:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function w(){return(w=Object(R.a)(q.a.mark((function t(n){return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault();try{e(me())}catch(c){console.log(c),p(!0)}case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(){return(N=Object(R.a)(q.a.mark((function t(n){return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault();try{e(he())}catch(c){console.log(c),p(!0)}case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(H.jsx)("div",{className:"container py-5 h-100",children:Object(H.jsx)("div",{className:"d-flex align-items-center justify-content-center h-100",children:Object(H.jsxs)("div",{className:"col-12 col-md-8 col-lg-6 col-xl-5",children:[Object(H.jsxs)("form",{className:"text-center",children:[Object(H.jsx)("h3",{className:"mb-5",children:"Sign in"}),Object(H.jsxs)("div",{className:"form-floating mb-4",children:[Object(H.jsx)("input",{name:"email",id:"signinEmail",type:"email",className:"form-control form-control-lg",placeholder:"name@example.com",value:s,onChange:function(e){return l(e.target.value)},required:!0}),Object(H.jsx)("label",{style:{opacity:"0.5"},htmlFor:"signinEmail",children:"Email"})]}),Object(H.jsxs)("div",{className:"form-floating mb-4",children:[Object(H.jsx)("input",{name:"password",id:"signinPassword",type:"password",className:"form-control form-control-lg",placeholder:"password",value:b,onChange:function(e){return j(e.target.value)},required:!0}),Object(H.jsx)("label",{style:{opacity:"0.5"},htmlFor:"signinPassword",children:"Password"})]}),Object(H.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:Object(H.jsxs)("div",{className:"form-check",children:[Object(H.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"signinCheck"}),Object(H.jsxs)("label",{className:"form-check-label",htmlFor:"signinCheck",children:[" ","Remember me"," "]})]})}),n.error?Object(H.jsxs)("div",{className:"alert alert-danger",children:[Object(H.jsx)("strong",{children:"Oops!"})," ",n.error]}):f?Object(H.jsxs)("div",{className:"alert alert-danger",children:[Object(H.jsx)("strong",{children:"Oops! "}),x]}):void 0,Object(H.jsx)("button",{className:"btn btn-success btn-lg btn-block container-fluid",onClick:function(e){return function(e){return y.apply(this,arguments)}(e)},children:"Sign in"})]}),Object(H.jsx)("hr",{className:"my-4"}),Object(H.jsxs)("button",{className:"btn google-button btn-lg mb-2",type:"submit",onClick:function(e){return function(e){return w.apply(this,arguments)}(e)},children:[Object(H.jsx)(A.a,{icon:we.b})," Sign in with Google"]}),Object(H.jsxs)("button",{className:"btn fb-button btn-lg mb-2",type:"submit",onClick:function(e){return function(e){return N.apply(this,arguments)}(e)},children:[Object(H.jsx)(A.a,{icon:we.a})," Sign in with Facebook"]}),Object(H.jsx)("br",{}),Object(H.jsxs)("p",{children:["Dont have an account? Click ",Object(H.jsx)(o.b,{to:"/signup",children:"here"})," to sign up!"]})]})})})}));var Ce=Object(ve.h)((function(){var e=Object(i.b)();return Object(c.useEffect)((function(){e((function(e){localStorage.removeItem("token"),e(ue())}))}),[e]),Object(H.jsx)("div",{children:Object(H.jsx)("h1",{children:"You have been logged out"})})}));var ke=Object(ve.h)((function(){var e=Object(i.b)(),t=Object(ve.g)(),n=Object(i.c)(pe),a=Object(c.useState)(""),r=Object(M.a)(a,2),s=r[0],l=r[1],u=Object(c.useState)(""),d=Object(M.a)(u,2),b=d[0],j=d[1],m=Object(c.useState)(""),h=Object(M.a)(m,2),f=h[0],p=h[1],g=Object(c.useState)(!1),O=Object(M.a)(g,2),x=O[0],v=O[1],y=Object(c.useState)(""),w=Object(M.a)(y,2),N=w[0],C=w[1];if(n.authenticated)return Object(H.jsx)(ve.a,{to:"/feature"});function k(){return(k=Object(R.a)(q.a.mark((function n(c){return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.preventDefault(),""!==s){n.next=5;break}return C("Email field should not be empty"),v(!0),n.abrupt("return");case 5:if(ye.validate(s)){n.next=9;break}return C("Invalid email"),v(!0),n.abrupt("return");case 9:if(!(b.length<6)){n.next=13;break}return C("Password length should be at least 6 characters"),v(!0),n.abrupt("return");case 13:if(b===f){n.next=17;break}return C("Passwords do not match!"),v(!0),n.abrupt("return");case 17:try{e(fe(t,{email:s,password:b}))}catch(a){console.log(a),v(!0)}case 18:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(H.jsx)("div",{className:"container py-5 h-100",children:Object(H.jsx)("div",{className:"d-flex align-items-center justify-content-center h-100",children:Object(H.jsxs)("div",{className:"col-12 col-md-8 col-lg-6 col-xl-5",children:[Object(H.jsxs)("form",{className:"text-center",children:[Object(H.jsx)("h3",{className:"mb-5",children:"Sign up for Altcoin Charter to save a personal watchlist!"}),Object(H.jsxs)("div",{className:"form-floating mb-4",children:[Object(H.jsx)("input",{name:"email",id:"signupEmail",type:"email",className:"form-control form-control-lg",placeholder:"name@example.com",value:s,onChange:function(e){return l(e.target.value)},required:!0}),Object(H.jsx)("label",{style:{opacity:"0.5"},htmlFor:"signupEmail",children:"Email"})]}),Object(H.jsxs)("div",{className:"form-floating mb-4",children:[Object(H.jsx)("input",{name:"password",id:"signupPassword1",type:"password",className:"form-control form-control-lg",placeholder:"password1",value:b,onChange:function(e){return j(e.target.value)}}),Object(H.jsx)("label",{style:{opacity:"0.5"},htmlFor:"signupPassword1",children:"Password:"})]}),Object(H.jsxs)("div",{className:"form-floating mb-4",children:[Object(H.jsx)("input",{name:"passwordConfirm",id:"signupPassword2",type:"password",className:"form-control form-control-lg",placeholder:"password2",value:f,onChange:function(e){return p(e.target.value)}}),Object(H.jsx)("label",{style:{opacity:"0.5"},htmlFor:"signupPassword2",children:"Confirm Password:"})]}),n.error?Object(H.jsxs)("div",{className:"alert alert-danger",children:[Object(H.jsx)("strong",{children:"Oops!"})," ",n.error]}):x?Object(H.jsxs)("div",{className:"alert alert-danger",children:[Object(H.jsx)("strong",{children:"Oops! "}),N]}):void 0,Object(H.jsx)("button",{className:"btn btn-success btn-lg btn-block container-fluid",onClick:function(e){return function(e){return k.apply(this,arguments)}(e)},children:"Sign Up"}),Object(H.jsx)("hr",{className:"my-4"})]}),Object(H.jsx)("br",{}),Object(H.jsxs)("p",{children:["Already have an account? Click ",Object(H.jsx)(o.b,{to:"/signin",children:"here"})," to sign in!"]})]})})})})),Ie=function(){return Object(c.useEffect)((function(){var e=window.location.search;window.opener&&(window.opener.postMessage(e),window.close())})),Object(H.jsx)("p",{children:"Please wait..."})},Se=Object(s.b)({name:"watchList",initialState:{coins:[],reqInProgress:!1,deletingCoinId:"",error:""},reducers:{setCoinsWL:function(e,t){e.coins=t.payload},addCoinWL:function(e,t){var n=t.payload;e.coins.push(n),e.reqInProgress=!1,e.error=""},deleteCoinWL:function(e,t){var n=t.payload,c=e.coins;e.coins=c.filter((function(e){return e.Symbol!==n})),e.error=""},setReqInProgressWL:function(e,t){e.reqInProgress=t.payload},setDeletingCoinIdWL:function(e,t){e.deletingCoinId=t.payload},coinErrWL:function(e,t){e.error=t.payload,e.reqInProgress=!1}}}),De=Se.actions,Pe=De.setCoinsWL,Le=De.addCoinWL,Ee=De.deleteCoinWL,Te=De.setReqInProgressWL,Ae=De.setDeletingCoinIdWL,We=De.coinErrWL,He=function(e){return e.watchList},Ue=Se.reducer,Fe=function(e){var t=Object(i.b)(),n=Object(i.c)(E).activeTimeframe,c=Object(i.c)(He).deletingCoinId,a=Object(i.c)(E).activeCoin,r=e.coin,o=Object(H.jsx)(A.a,{icon:W.b});function s(){var e,n;t((e=r,n=r.Id,function(t){t(Ae(n));var c=e.Symbol;console.log("Deleting coin: "+c),u.a.put("/users/watchlist/delcoin",{Symbol:c},{headers:{authorization:localStorage.getItem("token")}}).then((function(e){e.data.success?(t(Ee(c)),t(Ae(""))):(t(We(e.data.msg)),t(Ae("")))})).catch((function(e){console.log(e),t(We("There was a server error while putting to delcoin")),t(Ae(""))}))}))}return Object(H.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(H.jsxs)("div",{className:r==a?"coin-li-active":"coin-li",tabIndex:"0",children:[Object(H.jsxs)("div",{onClick:function(){return t(k(r)),t(L(r)),void t(P(r,n))},children:[Object(H.jsx)("h5",{children:r.Name}),Object(H.jsxs)("p",{children:[r.CoinName," price history, day's change"]})]}),r.Id===c?Object(H.jsx)(A.a,{icon:W.a,className:"remove-icon fa-spin"}):Object(H.jsx)("span",{className:"remove-icon",onClick:function(){return s()},children:o})]})})},qe=function(){var e=Object(i.b)(),t=Object(c.useState)(""),n=Object(M.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)([]),s=Object(M.a)(o,2),l=s[0],d=s[1],b=Object(c.useState)([]),j=Object(M.a)(b,2),m=j[0],h=j[1],f=Object(i.c)(He).coins,p=Object(i.c)(He).error,g=Object(i.c)(He).reqInProgress;Object(c.useEffect)((function(){var e=function(){var e=Object(R.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://min-api.cryptocompare.com/data/all/coinlist?summary=true");case 2:t=e.sent,d(Object.values(t.data.Data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);function O(t){if(t.preventDefault(),""!==a){if(/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/.test(a))e(We("No special characters allowed"));else{var n,c=a.toUpperCase();if(f.some((function(e){return e.Symbol===c})))e(We(c+" is already in your watchlist"));else e((n=c,function(e){e(Te(!0));var t=n.toUpperCase();u.a.get("https://min-api.cryptocompare.com/data/all/coinlist").then((function(n){if(n.data.Data[t]){var c={Id:n.data.Data[t].Id,Name:n.data.Data[t].Name,Symbol:n.data.Data[t].Symbol,CoinName:n.data.Data[t].CoinName};u.a.put("/users/watchlist/addcoin",{newCoin:c},{headers:{authorization:localStorage.getItem("token")}}).then((function(t){t.data.success?e(Le(c)):e(We(t.data.msg))})).catch((function(t){console.log("Error in putting to watchlist in addcoinWL action"),e(We("Server Error occured while adding to watchlist"))}))}else e(We("A coin with that symbol does not exist"))})).catch((function(t){console.log("Error in addcoinWL action api call to cryptocompare.com"),e(We("Error in addcoinWL action api call to cryptocompare.com"))}))})),r(""),h([])}}else e(We("Input required"))}return Object(H.jsxs)("div",{className:"col-md-4 col-sm-6 col-12 p-2",children:[Object(H.jsx)("label",{children:"Add new coin:"}),Object(H.jsxs)("form",{children:[Object(H.jsxs)("div",{className:"form-floating d-flex",children:[Object(H.jsx)("input",{name:"symbol",id:"addNewCoinInput2",type:"string",className:"form-control form-control-sm",placeholder:"Altcoin Symbol, i.e. BTC, LTC...",value:a,onChange:function(e){return function(e){r(e);var t=[];e.length>0&&(t=l.filter((function(t){var n=new RegExp("".concat(e),"gi");return t.Symbol.match(n)}))),h(t)}(e.target.value)},autoComplete:"off",onBlur:function(){setTimeout((function(){h([])}),100)}}),Object(H.jsx)("label",{style:{opacity:"0.5"},htmlFor:"addNewCoinInput2",children:"Altcoin Symbol, i.e. BTC, LTC..."}),g?Object(H.jsx)("button",{className:"btn btn-success add-button-loading",onClick:function(e){return O(e)},disabled:!0,children:Object(H.jsx)(A.a,{icon:W.a,className:"fa-spin",style:{width:"37px"}})}):Object(H.jsx)("button",{className:"btn btn-success add-button",onClick:function(e){return O(e)},children:"Add"})]}),function(){if(m.length>0){var e=m.sort((function(e,t){return e.Id-t.Id}));return Object(H.jsx)("div",{className:"suggestions",children:e.slice(0,10).map((function(e){return Object(H.jsx)("div",{className:"suggestion",onClick:function(){return t=e.Symbol,r(t),void h([]);var t},children:e.FullName},e.Id)}))})}}()]}),function(){if(p)return Object(H.jsx)("div",{className:"alert alert-danger",children:p})}()]})},Re=function(){var e=Object(i.b)(),t=Object(i.c)(pe).message,n=Object(i.c)(He).coins;return Object(c.useEffect)((function(){e((function(e){u.a.get("/users/watchlist",{headers:{authorization:localStorage.getItem("token")}}).then((function(t){e(Pe(t.data))})).catch((function(t){return e(We("Error, something went wrong in watchlist-getCoins action"))}))})),e((function(e){u.a.get("/users/profile",{headers:{authorization:localStorage.getItem("token")}}).then((function(t){e(be(t.data.user.email))}))}))}),[e]),Object(H.jsxs)("div",{children:[Object(H.jsx)("p",{children:Object(H.jsx)("b",{children:t})}),Object(H.jsx)("p",{children:"Your personal watchlist of coins: Coins you add to this list will be saved to your account"}),Object(H.jsxs)("div",{className:"d-flex flex-wrap",children:[n.map((function(e){return Object(H.jsx)(Fe,{coin:e},e.Id)})),Object(H.jsx)(qe,{})]})]})};function Me(){var e=Object(i.b)();return Object(c.useEffect)((function(){e(k({})),e(C("1day"))})),Object(H.jsxs)("div",{children:[Object(H.jsx)(ae,{}),Object(H.jsx)(ce,{}),Object(H.jsx)(Z,{}),Object(H.jsx)(te,{}),Object(H.jsx)(Re,{})]})}var Ye=n(61),Be=n(188),_e=["component"];var ze=function(e){var t=e.component,n=Object(Be.a)(e,_e),c=Object(i.c)(pe).authenticated;return Object(H.jsx)(ve.b,Object(Ye.a)(Object(Ye.a)({},n),{},{render:function(e){return c?Object(H.jsx)(t,Object(Ye.a)({},e)):Object(H.jsx)(ve.a,{to:{pathname:"/signin"}})}}))};var Ge=function(){return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(Oe,{}),Object(H.jsx)("div",{className:"container",children:Object(H.jsxs)(ve.d,{children:[Object(H.jsx)(ve.b,{exact:!0,path:"/",component:re}),Object(H.jsx)(ve.b,{exact:!0,path:"/signin",component:Ne}),Object(H.jsx)(ve.b,{exact:!0,path:"/signup",component:ke}),Object(H.jsx)(ve.b,{exact:!0,path:"/googlecallback",component:Ie}),Object(H.jsx)(ze,{path:"/signout",component:Ce}),Object(H.jsx)(ze,{path:"/feature",component:Me})]})}),Object(H.jsx)(xe,{})]})};var $e=function(){var e=localStorage.getItem("token"),t=Object(i.b)();return e&&t(le()),Object(H.jsx)(o.a,{history:"",children:Object(H.jsx)(Ge,{})})},Je={reducer:{auth:ge,coinList:x,histData:T,watchList:Ue}},Ke=Object(s.a)(Je),Xe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Qe(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(356);r.a.render(Object(H.jsx)(i.a,{store:Ke,children:Object(H.jsx)($e,{})}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Xe?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Qe(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):Qe(e)}))}}()}},[[357,1,2]]]);
//# sourceMappingURL=main.752311ba.chunk.js.map